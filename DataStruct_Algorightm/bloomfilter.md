# 布隆过滤器

布隆过滤器是一个很长的二进制向量和一系列随机映射函数，用于检索一个元素是否在一个集合中

优点是空间效率和查询时间都比一般的算法要好的多，缺点是有一定的误识别率和删除困难

布隆过滤器可以检查值是可能在集合中还是绝对不在集合中，可能”表示有一定的概率，也就是说可能存在一定为误判率

布隆过滤器（Bloom Filter）本质上是由长度为 m 的位向量或位列表（仅包含 0 或 1 位值的列表）组成，最初所有的值均设置为 0

![](../Picture/DataStruct/bloom/01.png)

提供 K 个不同的哈希函数，并将结果位置上对应位的值置为 1，使用多个哈希函数产生多个索引值

应用：

- 网页爬虫对 URL 去重，避免爬取相同的 URL 地址

- 反垃圾邮件，从数十亿个垃圾邮件列表中判断某邮箱是否垃圾邮箱

利用布隆过滤器我们可以预先把数据查询的主键，比如用户 ID 或文章 ID 缓存到过滤器中。当根据 ID 进行数据查询的时候，我们先判断该 ID 是否存在，若存在的话，则进行下一步处理。若不存在的话，直接返回，这样就不会触发后续的数据库查询。需要注意的是缓存穿透不能完全解决，我们只能将其控制在一个可以容忍的范围内
