# 单调队列

单调队列就是单调递增或者单调递减的队列，但并不是通常的 FIFO，而是一个双端队列，既可以从队列的头取走元素，也可以从队列的尾取走元素

队列从对首到队尾具有单调性，单调队列的队头元素就是待求解区间的极值

单调递增队列：保证队列头元素一定是当前队列的最小值，用于维护区间的最小值

单调递减队列：保证队列头元素一定是当前队列的最大值，用于维护区间的最大值

实现队列：

- 去尾：队尾元素出队列。当队列有新元素待入队，需要从队尾开始，删除影响队列单调性的元素，维护队列的单调性；去尾操作结束后，将该新元素入队列

- 删头 ：队头元素出队列。判断队头元素是否在待求解的区间之内，如果不在，就将其删除

- 取解 ：经过上面两个操作，取出队列的头元素 ，就是当前区间的极值

```cpp
// 单调递减队列
deque<int> dq;
for(int i = 0; i < nums.size(); ++i) {
    while(!dq.empty() && nums[dq.back()] < nums[i]) {
        dq.pop_back();
    }
    dq.push_back(i);
    while(!dq.empty() && dq.back() - dq.front() > k - 1) dq.pop_front();
}
return ans;
```